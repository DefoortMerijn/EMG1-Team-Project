<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="css/screen.css">
		<link rel="stylesheet" href="dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-state="duiktank">
					<div class="c-dashboard">
						<div class="c-infobar">
							<div class="c-logo">Transfo</div>
							<div class="c-title">
								De Duiktank
							</div>
							<div class="c-text">
								De duiktank was een oude silo die gebruikt werd om water in op te slaan. 
								Hedendaags is die gerenoveerd tot een duiktank waardat er heel wat duik oefeningen worden gehouden.
							</div>
							<!-- <img src="http://i.imgur.com/5NK0H1e.jpg" alt=""/> -->
							<svg viewbox="0 0 10 6.7" class="c-backgroundImage">
								<defs>
								  <clipPath id="clip">
									<polygon points="0 0, 100 50, 0 100, 0 100" />
								  </clipPath>
								</defs>
								<image xlink:href="http://i.imgur.com/RECDV24.jpg" x="0" y="0" height="6.7" width="10" clip-path="url(#clip)"/>
							  </svg>
						</div>
						<div class="c-card-container">
							<div class="c-card c-today">
								<div class="c-card-title">Today</div>
								<canvas id="c-today-chart"></canvas>
							</div>
							<div class="c-card c-week">
								<div class="c-card-title">Week</div>
								<canvas id="c-week-chart"></canvas>
							</div>
							<div class="c-card c-month">
								<div class="c-card-title">Month</div>
								<canvas id="c-month-chart" height="100px"></canvas>
							</div>
						</div>
					</div>
				</section>
				<section data-state="chart">
					Slide 2
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.2.0/chart.min.js"></script>
		<!-- <script src="plugin/chart/plugin.js"></script> -->

		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				width: "100%",
				height: "100%",
				margin: 0,
				minScale: 1,
				maxScale: 1,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});

			Reveal.addEventListener( 'duiktank', function() {
				const url = "https://enm1.azurewebsites.net/api/power/usage/recent/Stopcontacten_Circuit_Niveau0_Cafetaria_55Q1_L2";

				fetch(url)
				.then(response => response.json())
				.then(data => {
					let responseData = data.values;
					let arrayData = [];

					responseData.forEach(element => {
						arrayData.push(element.value)
					});

					console.log(arrayData)

					const ctxToday = document.getElementById('c-today-chart').getContext('2d');
					const todayChart = new Chart(ctxToday, {
						type: 'bar',
						data: {
							labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
							datasets: [{
								label: 'Ampere in de duiktank',
								data: arrayData,
								backgroundColor: [
									'rgba(255, 99, 132, 0.2)',
									'rgba(54, 162, 235, 0.2)',
									'rgba(255, 206, 86, 0.2)',
									'rgba(75, 192, 192, 0.2)',
									'rgba(153, 102, 255, 0.2)',
									'rgba(255, 159, 64, 0.2)'
								],
								borderColor: [
									'rgba(255, 99, 132, 1)',
									'rgba(54, 162, 235, 1)',
									'rgba(255, 206, 86, 1)',
									'rgba(75, 192, 192, 1)',
									'rgba(153, 102, 255, 1)',
									'rgba(255, 159, 64, 1)'
								],
								borderWidth: 1
							}]
						},
						options: {
							scales: {
								y: {
									beginAtZero: true
								}
							}
						}
					});

					const ctxWeek = document.getElementById('c-week-chart').getContext('2d');
					const weekChart = new Chart(ctxWeek, {
						type: 'bar',
						data: {
							labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
							datasets: [{
								label: 'Ampere in de duiktank',
								data: arrayData,
								backgroundColor: [
									'rgba(255, 99, 132, 0.2)',
									'rgba(54, 162, 235, 0.2)',
									'rgba(255, 206, 86, 0.2)',
									'rgba(75, 192, 192, 0.2)',
									'rgba(153, 102, 255, 0.2)',
									'rgba(255, 159, 64, 0.2)'
								],
								borderColor: [
									'rgba(255, 99, 132, 1)',
									'rgba(54, 162, 235, 1)',
									'rgba(255, 206, 86, 1)',
									'rgba(75, 192, 192, 1)',
									'rgba(153, 102, 255, 1)',
									'rgba(255, 159, 64, 1)'
								],
								borderWidth: 1
							}]
						},
						options: {
							scales: {
								y: {
									beginAtZero: true
								}
							}
						}
					});

					// const ctxComparison = document.getElementById('c-comparison-chart').getContext('2d');
					// const comparisonChart = new Chart(ctxComparison, {
					// 	type: 'bar',
					// 	data: {
					// 		labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
					// 		datasets: [{
					// 			label: 'Ampere in de duiktank',
					// 			data: arrayData,
					// 			backgroundColor: [
					// 				'rgba(255, 99, 132, 0.2)',
					// 				'rgba(54, 162, 235, 0.2)',
					// 				'rgba(255, 206, 86, 0.2)',
					// 				'rgba(75, 192, 192, 0.2)',
					// 				'rgba(153, 102, 255, 0.2)',
					// 				'rgba(255, 159, 64, 0.2)'
					// 			],
					// 			borderColor: [
					// 				'rgba(255, 99, 132, 1)',
					// 				'rgba(54, 162, 235, 1)',
					// 				'rgba(255, 206, 86, 1)',
					// 				'rgba(75, 192, 192, 1)',
					// 				'rgba(153, 102, 255, 1)',
					// 				'rgba(255, 159, 64, 1)'
					// 			],
					// 			borderWidth: 1
					// 		}]
					// 	},
					// 	options: {
					// 		scales: {
					// 			y: {
					// 				beginAtZero: true
					// 			}
					// 		}
					// 	}
					// });

					const ctxMonth = document.getElementById('c-month-chart').getContext('2d');
					const monthChart = new Chart(ctxMonth, {
						type: 'line',
						data: {
							labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
							datasets: [{
								label: 'Ampere in de duiktank',
								data: arrayData,
								backgroundColor: [
									'rgba(255, 99, 132, 0.2)',
									'rgba(54, 162, 235, 0.2)',
									'rgba(255, 206, 86, 0.2)',
									'rgba(75, 192, 192, 0.2)',
									'rgba(153, 102, 255, 0.2)',
									'rgba(255, 159, 64, 0.2)'
								],
								borderColor: [
									'rgba(255, 99, 132, 1)',
									'rgba(54, 162, 235, 1)',
									'rgba(255, 206, 86, 1)',
									'rgba(75, 192, 192, 1)',
									'rgba(153, 102, 255, 1)',
									'rgba(255, 159, 64, 1)'
								],
								borderWidth: 1
							}]
						},
						options: {
							scales: {
								y: {
									beginAtZero: true
								}
							}
						}
					});

				})
			});
		</script>
	</body>
</html>
